{% extends 'base.html' %}

{% block stylesheet %}
    {{ super() }}
    <style>
        .heroes_area{
            color:rgb(68, 68, 68);
            border: 1px solid black;
            border-radius: 5px;
            border-width:2px;
            padding: 20px;
            width:65%;
        }

        .deleteAccount{
            margin-bottom: -15px;
        }
    </style>
{% endblock %}

{% block container %}

    <h4>Hello : {{ user.name }}</h4>

    {% if user.selected_hero %}
        <p>Current selected hero : {{ user.selected_hero.name }}</p>
        <form action="/game_compute" method="post">
            <button type="submit" name="continue_quest">-> Continue quest <-</button>
        </form>
    {% else %}
        <p>no selected hero !</p>
    {% endif %}

    {% if heroes %}
        <p>Your available hero are :</p>

        {% for hero in heroes %}
            <div class="heroes_area">
                <p>Username of your hero : <strong>{{hero.name}}</strong></p>
                <p>The sexe of your hero is : <strong>{% if hero.sex %} Female{% else %} Male{% endif %}</strong></p>
                <p>Weapon : <strong>{{hero.weapon}}</strong></p>

                {% if hero.current_quest == 0 and hero.current_step == 0 %}
                    <p>Your hero is currently at the first quest ! Come on !!</p>
                {% else %}
                    <p>Your hero is currently at this quest : {{hero.current_quest}}, and your step in this quest is : {{ hero.current_step }}</p>
                    {% if questbook.get_quest_by_number(hero.current_quest).get_step_by_number(hero.current_step).text == "Fight" %}
                        <p>Fight quest</p>
                    {% else %}
                        <p>Narrative quest</p>
                    {% endif %}
                    <p>maybe your are blocked ? need help noob ?</p>
                {% endif %}

                <form method="POST" action="">
                    <input type="hidden" name="hero_selected" value="{{ hero.name }}">
                    <button type="submit" >Select {{ hero.name }} for quest</button>
                </form>

                <form method="POST" action="/delete_hero">
                    <input type="hidden" name="hero_selected" value="{{hero.name}}">
                    <button type="submit" >Delete hero</button>
                </form>

            </div>
        {% endfor %}
    {% else %}
        <p>No available, create your first please !</p>
    {% endif %}

    <div class="create_new_hero">
        <form method="POST" action="/create_hero">

            <label for="new_hero_name">Enter the name of your hero : (the name of your hero have to be unique)</label>
            <input name="new_hero_name" placeholder="Pseudo" required><br />

            <label for="new_hero_weapon">Select the weapon of your hero : (if you want to have more weapon just by our battle pass)</label>
            <select name="new_hero_weapon" value="Hands">
                <option value="Axe">Axe</option>
                <option value="Sword">Sword</option>
                <option value="Stick">Stick</option>
                <option value="Hands">Hands</option>
                <option value="Nothing" disabled>So strong weapon (available in the battle pass only)</option>
            </select><br />

            <label for="new_hero_sex">Select the sex of your hero :</label>
            <select name="new_hero_sex">
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select><br />

            <label for="new_hero_passive">Select the passive of your hero :</label>
            <select name="new_hero_passive" value="nothing">
                <option value="Damaging">Damage + 5%</option>
                <option value="Healing">Healing + 5%</option>
                <option value="nothing" disabled>Nothing (Yes it's only available in the battle pass too, sorry it's not us it's EA business model)</option>
            </select>

            <button type="submit" >Create my hero</button>
        </form>
    </div>

    <div class="deleteAccount">
        <form method="POST" action="/deleteAccount">
            <input name="password" type="password" required>
            <button type="submit" >Delete the account</button>
        </form>
    </div>
{% endblock %}